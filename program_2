using System;

namespace WorkBJA
{
    /// <summary>
    /// Este programa gerencia as notas de uma turma de alunos.
    /// Ele permite lançar as notas de 3 avaliações para 5 alunos,
    /// calcula a nota total de cada aluno e a média da turma em cada avaliação.
    /// </summary>
    class Program
    {
        // Define constantes para o número de alunos e provas.
        // Isso facilita a alteração desses valores no futuro.
        const int NUMERO_ALUNOS = 5;
        const int NUMERO_PROVAS = 3;

        static void Main(string[] args)
        {
            // Usa 'double' para permitir notas com casas decimais (ex: 7.5).
            double[,] notas = new double[NUMERO_ALUNOS, NUMERO_PROVAS];

            LancarNotas(notas);
            Console.Clear(); // Limpa o console para uma exibição mais limpa dos resultados.
            
            MostrarNotaFinalPorAluno(notas);
            Console.WriteLine(); // Adiciona uma linha em branco para separar as seções.
            
            MostrarMediaDaTurmaPorProva(notas);

            Console.WriteLine("\nPressione qualquer tecla para sair...");
            Console.ReadKey();
        }

        /// <summary>
        /// Coleta as notas de cada aluno para cada prova.
        /// </summary>
        /// <param name="notas">A matriz 2D para armazenar as notas.</param>
        static void LancarNotas(double[,] notas)
        {
            Console.WriteLine("--- Lançamento de Notas ---");
            for (int i = 0; i < NUMERO_ALUNOS; i++)
            {
                Console.WriteLine($"\nAluno {i + 1}:");
                for (int j = 0; j < NUMERO_PROVAS; j++)
                {
                    Console.Write($"  -> Digite a nota da Prova {j + 1}: ");
                    // Loop para garantir que a entrada seja um número válido.
                    while (!double.TryParse(Console.ReadLine(), out notas[i, j]))
                    {
                        Console.WriteLine("Entrada inválida. Por favor, digite um número.");
                        Console.Write($"  -> Digite a nota da Prova {j + 1}: ");
                    }
                }
            }
        }

        /// <summary>
        /// Calcula e exibe a soma total das notas para cada aluno.
        /// </summary>
        /// <param name="notas">A matriz 2D com as notas.</param>
        static void MostrarNotaFinalPorAluno(double[,] notas)
        {
            Console.WriteLine("--- Nota Final por Aluno ---");
            for (int i = 0; i < NUMERO_ALUNOS; i++)
            {
                double soma = 0;
                for (int j = 0; j < NUMERO_PROVAS; j++)
                {
                    soma += notas[i, j];
                }
                // ":F2" formata o número para exibir duas casas decimais.
                Console.WriteLine($"Nota final do Aluno {i + 1}: {soma:F2}");
            }
        }

        /// <summary>
        /// Calcula e exibe a média da turma para cada uma das provas.
        /// </summary>
        /// <param name="notas">A matriz 2D com as notas.</param>
        static void MostrarMediaDaTurmaPorProva(double[,] notas)
        {
            Console.WriteLine("--- Média da Turma por Prova ---");
            // Itera sobre as provas (colunas)
            for (int j = 0; j < NUMERO_PROVAS; j++)
            {
                double soma = 0;
                // Itera sobre os alunos (linhas) para somar as notas da prova atual
                for (int i = 0; i < NUMERO_ALUNOS; i++)
                {
                    soma += notas[i, j];
                }

                double media = soma / NUMERO_ALUNOS;
                Console.WriteLine($"Média da turma na Prova {j + 1}: {media:F2}");
            }
        }
    }
}
